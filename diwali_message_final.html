<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy Diwali âœ¨</title>
<style>
  body{margin:0;padding:0;overflow:hidden;
       background:radial-gradient(circle at bottom,#0b0b0b 0%,#1a1a1a 100%);
       color:#fff;font-family:'Poppins',sans-serif;
       height:100vh;display:flex;flex-direction:column;
       justify-content:center;align-items:center;}
  canvas{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;}
  .diya{position:absolute;bottom:20px;width:40px;height:40px;
        background:radial-gradient(ellipse at center,#ffcc00 0%,#cc6600 80%);
        border-radius:50% 50% 0 0;
        box-shadow:0 0 20px #ff9900,0 0 40px #ff6600;
        animation:flicker 2s infinite ease-in-out;}
  @keyframes flicker{0%,100%{opacity:.8;transform:scale(1);}
                     50%{opacity:1;transform:scale(1.1);}}
  .start-btn{z-index:3;font-size:2.2em;color:#ffd700;
             text-shadow:0 0 20px #ff6600,0 0 40px #ffcc00;
             cursor:pointer;animation:pulse 2s infinite;}
  @keyframes pulse{0%,100%{transform:scale(1);opacity:1;}
                   50%{transform:scale(1.1);opacity:.8;}}
  .message{display:none;text-align:center;z-index:3;
           animation:fadeIn 3s ease forwards;}
  @keyframes fadeIn{from{opacity:0;transform:translateY(30px);}
                    to{opacity:1;transform:translateY(0);}}
  .headline{font-size:2.8em;margin-bottom:.3em;color:#ffd700;
            text-shadow:0 0 25px #ff6600,0 0 50px #ffcc00;
            animation:shimmer 2s infinite alternate;}
  @keyframes shimmer{from{text-shadow:0 0 10px #ff6600;}
                     to{text-shadow:0 0 30px #ffcc00;}}
  .glow-diya{display:inline-block;animation:diyaGlow 2s infinite alternate;
             filter:drop-shadow(0 0 10px #ffcc00);}
  @keyframes diyaGlow{0%{filter:drop-shadow(0 0 10px #ffcc00);}
                      100%{filter:drop-shadow(0 0 25px #ff9900);}}
  .subtext{font-size:1.3em;color:#fff3cd;margin-bottom:1em;line-height:1.5em;}
  .family{font-size:1.4em;color:#ffd700;
          text-shadow:0 0 20px #ff6600,0 0 40px #ffcc00;}
  .video-wrapper{margin-top:20px;opacity:0;transition:opacity 1s ease;
                 display:flex;justify-content:center;width:100%;z-index:5;}
  .video-wrapper.show{opacity:1;}
  video{width:90%;max-width:400px;border-radius:12px;
        box-shadow:0 0 25px rgba(255,170,0,.8);}
  audio{display:none;}
</style>
</head>
<body>
<canvas id="fireworks"></canvas>

<div class="start-btn" id="startBtn">Just Click Here âœ¨</div>

<div class="message" id="diwaliMessage">
  <div class="headline"><span class="glow-diya">ðŸª”</span>
    Wishing You a Radiant Diwali!
    <span class="glow-diya">ðŸª”</span></div>
  <div class="subtext">May your days sparkle with happiness and your lives be blessed with countless sparkling memories together.</div>
  <div class="family">Shah Family â€” Jay, Amisha, Bhumi ðŸª”ðŸ’›</div>
  <div class="video-wrapper" id="videoWrapper">
    <video id="greetingVideo" playsinline preload="auto" muted>
      <source src="https://raw.githubusercontent.com/bhumishah01/Diwali2025/main/diwali.mp4" type="video/mp4">
      Your browser does not support video playback.
    </video>
  </div>
</div>

<audio id="music" preload="auto" playsinline loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/10/30/audio_b1b6714b7e.mp3?filename=fireworks-124380.mp3" type="audio/mpeg">
</audio>

<script>
for(let i=0;i<10;i++){const d=document.createElement('div');
 d.classList.add('diya');
 d.style.left=`${Math.random()*100}%`;
 d.style.bottom=`${Math.random()*50}px`;
 d.style.animationDelay=`${Math.random()*2}s`;
 document.body.appendChild(d);}

const canvas=document.getElementById('fireworks'),ctx=canvas.getContext('2d');
let w=canvas.width=innerWidth,h=canvas.height=innerHeight;
addEventListener('resize',()=>{w=canvas.width=innerWidth;h=canvas.height=innerHeight;});
const fireworks=[];
function rand(a,b){return Math.random()*(b-a)+a;}
class Firework{constructor(x,y,c){this.x=x;this.y=y;this.c=c;this.p=[];
 for(let i=0;i<70;i++)this.p.push({x:x,y:y,a:Math.random()*2*Math.PI,
 s:rand(1,6),al:1,d:rand(.008,.02)});}
 update(){this.p.forEach(p=>{p.x+=Math.cos(p.a)*p.s;
 p.y+=Math.sin(p.a)*p.s;p.al-=p.d;});
 this.p=this.p.filter(p=>p.al>0);}
 draw(){this.p.forEach(p=>{ctx.beginPath();
 ctx.fillStyle=`rgba(${this.c},${p.al})`;
 ctx.arc(p.x,p.y,2,0,2*Math.PI);ctx.fill();});}}
function loop(){ctx.fillStyle='rgba(0,0,0,0.2)';
 ctx.fillRect(0,0,w,h);
 if(Math.random()<.1)fireworks.push(new Firework(rand(0,w),rand(0,h/2),
 `${Math.floor(rand(150,255))},${Math.floor(rand(80,255))},${Math.floor(rand(80,255))}`));
 fireworks.forEach(f=>{f.update();f.draw();});
 requestAnimationFrame(loop);}
loop();

const startBtn=document.getElementById('startBtn'),
      msg=document.getElementById('diwaliMessage'),
      music=document.getElementById('music'),
      videoWrap=document.getElementById('videoWrapper'),
      vid=document.getElementById('greetingVideo');

startBtn.addEventListener('click',async()=>{
 startBtn.style.display='none';
 msg.style.display='block';

 // fade in video after 3 s and ensure playback
 setTimeout(async()=>{
   videoWrap.classList.add('show');
   vid.muted=false;
   try{
     await vid.play();
   }catch(e){console.log('video play error',e);}
   // small delay before audio
   setTimeout(()=>{music.volume=1.0;music.play().catch(()=>{});},2000);
 },3000);
});
</script>
</body>
</html>
